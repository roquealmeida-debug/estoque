<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Estoque de Medicamentos</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
</head>
<body>

    <h1>Controle de Estoque de Medicamentos</h1>

    <form id="form-medicamento">
        <div>
            <label for="nome">Nome do Medicamento:</label>
            <input type="text" id="nome" list="medicamentos" required>
            <datalist id="medicamentos"></datalist>
        </div>
        <div>
            <label for="laboratorio">Laboratório:</label>
            <input type="text" id="laboratorio" required>
            <datalist id="laboratorios"></datalist>
        </div>
        <label for="tipoServico">Tipo de Serviço:</label>
        <select id="tipoServico" required>
            <option value="">Selecione um tipo de serviço...</option>
            <option value="ASSISTÊNCIA FARMACÊUTICA">ASSISTÊNCIA FARMACÊUTICA</option>
            <option value="ASSISTÊNCIA FARMACÊUTICA BÁSICA">ASSISTÊNCIA FARMACÊUTICA BÁSICA</option>
            <option value="URGÊNCIA E EMERGÊNCIA">URGÊNCIA E EMERGÊNCIA</option>
            <option value="ANEMIA FALCIFORME">ANEMIA FALCIFORME</option>
            <option value="SAÚDE MENTAL">SAÚDE MENTAL</option>
            <option value="ANTIMICROBIANOS">ANTIMICROBIANOS</option>
            <option value="HIPERTENSÃO">HIPERTENSÃO</option>
            <option value="SAÚDE DA MULHER">SAÚDE DA MULHER</option>
            <option value="DIABETES">DIABETES</option>
        </select>
        <div>
            <label for="tipoMedicamento">Tipo de Medicamento:</label>
            <select id="tipoMedicamento" required>
                <option value="">Selecione um tipo de medicamento...</option>
                <option value="Frasco">Frasco</option>
                <option value="Capsula">Cápsula</option>
                <option value="Cartela">Cartela</option>
                <option value="Ampola">Ampola</option>
                <option value="Bisnaga">Bisnaga</option>
                <option value="Frasco Ampola">Frasco Ampola</option>
                <!-- Adicione mais opções se necessário -->
            </select>
        </div>
        <div>
            <label for="quantidade">Quantidade:</label>
            <input type="number" id="quantidade" required>
        </div>
        <div>
            <label for="validade">Data de Validade:</label>
            <input type="date" id="validade" required>
        </div>
        <div>
            <label for="valorLote">Valor do Lote:</label>
            <input type="number" step="0.01" id="valorLote" required>
        </div>
        <div>
            <label for="lote">Lote:</label>
            <input type="text" id="lote" required>
        </div>
        <input type="hidden" id="edit-index">
        <button type="submit">Salvar Medicamento</button>
        <p id="feedback" style="display:none;">Medicamento salvo com sucesso!</p>
        <p id="error-message" style="display:none; color:red;">Por favor, preencha todos os campos.</p>
    </form>

    <div class="export-buttons">
        <button onclick="exportToCSV()">Exportar para CSV</button>
        <button onclick="exportToExcel()">Exportar para Excel</button>
        <button onclick="exportToPDF()">Exportar para PDF</button>
    </div>
    

    <div class="filters">
        <input type="text" id="search-bar" placeholder="Buscar medicamento...">
        <select id="filter-laboratorio">
            <option value="">Todos os Laboratórios</option>
            <!-- Opções serão preenchidas dinamicamente -->
        </select>
    </div>

    <div id="estoque">
        <table>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Laboratório</th>
                    <th>Tipo de Serviço</th>
                    <th>Tipo de Medicamento</th>
                    <th>Lote</th>
                    <th>Quantidade</th>
                    <th>Data de Validade</th>
                    <th>Valor de Cada Lote</th>
                    <th>Valor Total</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                <!-- Os medicamentos serão inseridos aqui dinamicamente -->
            </tbody>
        </table>
    </div>
    
    <div id="notificacao-vencimento"></div>

    <script src="script.js"></script>
</body>
</html>